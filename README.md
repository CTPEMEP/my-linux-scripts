# My Linux Scripts Collection

–ö–æ–ª–ª–µ–∫—Ü–∏—è –ø–æ–ª–µ–∑–Ω—ã—Ö bash-—Å–∫—Ä–∏–ø—Ç–æ–≤ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è Linux-—Å–∏—Å—Ç–µ–º, —Å–æ–∑–¥–∞–Ω–Ω–∞—è –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –∏–∑—É—á–µ–Ω–∏—è DevOps.

# –û –ø—Ä–æ–µ–∫—Ç–µ

–≠—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–∞–±–æ—Ä bash-—Å–∫—Ä–∏–ø—Ç–æ–≤ –¥–ª—è –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è Linux-—Å–µ—Ä–≤–µ—Ä–æ–≤. –ö–∞–∂–¥—ã–π —Å–∫—Ä–∏–ø—Ç —Ä–µ—à–∞–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –∑–∞–¥–∞—á—É, –∏–º–µ–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ –±–µ–∑–æ–ø–∞—Å–µ–Ω –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏.

**–¶–µ–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞:**
- –°–æ–∑–¥–∞—Ç—å –ø–æ–ª–µ–∑–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- –ü—Ä–∞–∫—Ç–∏–∫–æ–≤–∞—Ç—å –Ω–∞–≤—ã–∫–∏ bash-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –¥—Ä—É–≥–∏—Ö
- –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ DevOps-–∏–Ω–∂–µ–Ω–µ—Ä–∞

# –°–∫—Ä–∏–ø—Ç—ã

## 1. system-info.sh

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –í—ã–≤–æ–¥ –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–∏—Å—Ç–µ–º–µ –≤ —É–¥–æ–±–æ—á–∏—Ç–∞–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ.

**–ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:**
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ (–¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤, –≤–µ—Ä—Å–∏—è)
- –í–µ—Ä—Å–∏—é —è–¥—Ä–∞ Linux
- –í—Ä–µ–º—è –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã (uptime)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–æ–≤–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏
- –ú–æ–¥–µ–ª—å –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞
- –°–µ—Ç–µ–≤—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ –∏—Ö IP-–∞–¥—Ä–µ—Å–∞

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
``./system-info.sh

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—ã–≤–æ–¥–∞ –≤ —Ñ–∞–π–ª
./system-info.sh > system_report.txt

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**

======================================
–ò–ù–§–û–†–ú–ê–¶–ò–Ø –û –°–ò–°–¢–ï–ú–ï
======================================
–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞:
AlmaLinux 9.3 (Shamrock Pampas Cat)

–í–µ—Ä—Å–∏—è —è–¥—Ä–∞:
5.14.0-362.8.1.el9_3.x86_64

–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã:
up 2 hours, 30 minutes
...

2. log-cleaner.sh
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö log-—Ñ–∞–π–ª–æ–≤.

–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî —Ç–æ–ª—å–∫–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ñ–∞–π–ª—ã, –Ω–µ —É–¥–∞–ª—è–µ—Ç

–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π –ø–µ—Ä–∏–æ–¥ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 7 –¥–Ω–µ–π)

–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π —Å –ª–æ–≥–∞–º–∏

–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –∏ –¥–∞—Ç—É –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ —Å—Ç–∞—Ä—à–µ 7 –¥–Ω–µ–π (–±–µ–∑ —É–¥–∞–ª–µ–Ω–∏—è)
./log-cleaner.sh

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ —Å—Ç–∞—Ä—à–µ 30 –¥–Ω–µ–π
./log-cleaner.sh 30

# –£–∫–∞–∑–∞–Ω–∏–µ –¥—Ä—É–≥–æ–π –ø–∞–ø–∫–∏ —Å –ª–æ–≥–∞–º–∏
./log-cleaner.sh 14 /var/log/nginx

# –†–µ–∞–ª—å–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ (–ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
sudo ./log-cleaner.sh 30 /var/log
–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è:

–û—Ç–∫—Ä–æ–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ:

bash
nano log-cleaner.sh
–ù–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫—É: # rm "$file"

–£–¥–∞–ª–∏—Ç–µ # –≤ –Ω–∞—á–∞–ª–µ —Å—Ç—Ä–æ–∫–∏

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª

–í–Ω–∏–º–∞–Ω–∏–µ: –ë—É–¥—å—Ç–µ –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –ª–æ–≥–æ–≤. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ —Ç–µ—á–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –¥–Ω–µ–π –≤ —Ä–µ–∂–∏–º–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞.

3. backup-configs.sh
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∞–∂–Ω—ã—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤.

–ß—Ç–æ –±—ç–∫–∞–ø–∏—Ç:

~/.bashrc, ~/.bash_profile ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–±–æ–ª–æ—á–∫–∏ Bash

~/.ssh/config ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è SSH-–∫–ª–∏–µ–Ω—Ç–∞

/etc/ssh/sshd_config ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SSH-—Å–µ—Ä–≤–µ—Ä–∞

/etc/hosts ‚Äî –ª–æ–∫–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ hosts

/etc/resolv.conf ‚Äî DNS-–Ω–∞—Å—Ç—Ä–æ–π–∫–∏

–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Å timestamp

–û—Ç—á—ë—Ç –æ —Ä–∞–∑–º–µ—Ä–µ –∞—Ä—Ö–∏–≤–∞

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –ø–µ—Ä–µ–¥ –±—ç–∫–∞–ø–æ–º

–ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ç–æ—Ä–∏–∏ –±—ç–∫–∞–ø–æ–≤

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

bash
# –°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø
./backup-configs.sh

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –±—ç–∫–∞–ø—ã
ls -la ~/config-backups/
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±—ç–∫–∞–ø–æ–≤:

text
~/config-backups/
‚îú‚îÄ‚îÄ config-backup-20240316_143022.tar.gz
‚îú‚îÄ‚îÄ config-backup-20240315_090011.tar.gz
‚îî‚îÄ‚îÄ config-backup-20240314_101545.tar.gz
üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
text
my-linux-scripts/
‚îú‚îÄ‚îÄ README.md                 # –≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ LICENSE                   # –õ–∏—Ü–µ–Ω–∑–∏—è MIT
‚îú‚îÄ‚îÄ .gitignore               # –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–µ —Ñ–∞–π–ª—ã Git
‚îú‚îÄ‚îÄ system-info.sh           # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∏—Å—Ç–µ–º–µ
‚îú‚îÄ‚îÄ log-cleaner.sh           # –û—á–∏—Å—Ç–∫–∞ –ª–æ–≥–æ–≤
‚îú‚îÄ‚îÄ backup-configs.sh        # –ë—ç–∫–∞–ø –∫–æ–Ω—Ñ–∏–≥–æ–≤
‚îî‚îÄ‚îÄ test-scripts.sh          # –¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç
üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
–û–°: –õ—é–±–æ–π –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤ Linux (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–æ—Å—å –Ω–∞ AlmaLinux 9, Ubuntu 22.04)

Bash: –≤–µ—Ä—Å–∏—è 4.0 –∏–ª–∏ –≤—ã—à–µ

–£—Ç–∏–ª–∏—Ç—ã: grep, awk, sed, find, tar, df, free, uptime

–£—Å—Ç–∞–Ω–æ–≤–∫–∞
bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/–≤–∞—à-–ª–æ–≥–∏–Ω/my-linux-scripts.git
cd my-linux-scripts

# –î–∞—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
chmod +x *.sh

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É
./system-info.sh
–ù–∞—Å—Ç—Ä–æ–π–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
–î–æ–±–∞–≤—å—Ç–µ –ø–∞–ø–∫—É —Å–æ —Å–∫—Ä–∏–ø—Ç–∞–º–∏ –≤ PATH –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞:

bash
# –î–æ–±–∞–≤–∏—Ç—å –≤ ~/.bashrc
echo 'export PATH="$PATH:$HOME/my-linux-scripts"' >> ~/.bashrc
source ~/.bashrc

# –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –∏–∑ –ª—é–±–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
system-info.sh
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
–í –ø—Ä–æ–µ–∫—Ç–µ –µ—Å—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã:

bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã
./test-scripts.sh

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –≤—Å–µ—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤
for script in *.sh; do bash -n "$script" && echo "$script: OK"; done
–í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç
–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è improvements –∏ –Ω–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã!

–§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

–°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É –¥–ª—è –≤–∞—à–µ–π —Ñ—É–Ω–∫—Ü–∏–∏:

bash
git checkout -b feature/new-awesome-script
–î–æ–±–∞–≤—å—Ç–µ –≤–∞—à —Å–∫—Ä–∏–ø—Ç –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

–°–¥–µ–ª–∞–π—Ç–µ –∫–æ–º–º–∏—Ç:

bash
git commit -m "feat: –¥–æ–±–∞–≤–∏–ª —Å–∫—Ä–∏–ø—Ç –¥–ª—è ..."
–ó–∞–ø—É—à—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:

bash
git push origin feature/new-awesome-script
–°–æ–∑–¥–∞–π—Ç–µ Pull Request –Ω–∞ GitHub

–ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
–ü–æ–¥—Ä–æ–±–Ω—É—é –∏—Å—Ç–æ—Ä–∏—é –∏–∑–º–µ–Ω–µ–Ω–∏–π –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ –∫–æ–º–º–∏—Ç–∞—Ö.

–ö–ª—é—á–µ–≤—ã–µ –≤–µ—Ä—Å–∏–∏:
v1.0.0 (2024-03-16): –ü–µ—Ä–≤—ã–π —Å—Ç–∞–±–∏–ª—å–Ω—ã–π —Ä–µ–ª–∏–∑ —Å —Ç—Ä–µ–º—è –æ—Å–Ω–æ–≤–Ω—ã–º–∏ —Å–∫—Ä–∏–ø—Ç–∞–º–∏

v0.2.0 (2024-03-15): –î–æ–±–∞–≤–ª–µ–Ω —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –∏ —É–ª—É—á—à–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

v0.1.0 (2024-03-14): –ù–∞—á–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å –±–∞–∑–æ–≤—ã–º–∏ —Å–∫—Ä–∏–ø—Ç–∞–º–∏

–ê–≤—Ç–æ—Ä
CTPEMEP
DevOps-–∏–Ω–∂–µ–Ω–µ—Ä –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –æ–±—É—á–µ–Ω–∏—è

GitHub: https://github.com/CTPEMEP
